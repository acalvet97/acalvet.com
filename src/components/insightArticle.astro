---
import { getCollection } from 'astro:content';
const posts = await getCollection('blog');  

function formatDate(date: Date) {
    const month = (date.getMonth() + 1).toString().padStart(2, '0');
    return `${month}/${date.getFullYear()}`;
}
---

{posts.map((post) => (
    <li class="flex flex-col border md:border-0 md:border-b border-zinc-200 dark:border-zinc-700 col-span-2 bg-zinc-50 dark:bg-zinc-950 md:bg-transparent dark:md:bg-transparent">
        <a href={`/insights/${post.slug}`} class="flex flex-col md:flex-row items-start md:items-center justify-between py-6 px-4 gap-8 md:gap-0">
            <div class="flex flex-col md:flex-row items-top justify-left gap-16 md:gap-32 w-full md:w-content">
                <span class="text-sm text-zinc-600 dark:text-zinc-400 pt-2">{formatDate(post.data.pubDate)}</span>
                <div class="flex flex-col gap-2">
                    <h2 class="text-2xl font-normal text-zinc-950 dark:text-zinc-50">{post.data.title}</h2>
                    <p class="text-zinc-600 dark:text-zinc-400 text-sm">{post.data.readTime} minutes read</p>
                </div>
            </div>
            <span class="material-icons px-4 py-2 w-fit border border-zinc-300 dark:border-zinc-700 dark:text-zinc-50 rounded-full hover:bg-white dark:hover:bg-zinc-800">arrow_forward</span>
        </a>
    </li>
))}